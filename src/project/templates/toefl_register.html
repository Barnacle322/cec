<!-- prettier-ignore -->
{% extends "/layout.html" %} 
{% block title %}{{_('TOEFL')}}{% endblock %} 
{% block head %} {{ super() }} {% endblock %} 
{% block content %}

<main
    class="relative mt-24 flex w-full flex-col items-center justify-center overflow-x-hidden bg-gray-50 leading-normal tracking-tight"
>
    <section id="toast" class="opacity-0 transition-opacity ease-in-out">
        {% if success == True %}
        <div
            class="fixed bottom-5 right-1/2 mx-4 flex w-[calc(100%-32px)] max-w-3xl translate-x-[calc(50%+16px)] items-center gap-3 rounded-lg border bg-white p-5 shadow-xl"
        >
            <div class="flex size-12 flex-shrink-0 items-center justify-center rounded-full bg-green-100">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="h-6 w-6 text-green-500"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
                    />
                </svg>
            </div>
            <div>
                <h3 class="text-base font-semibold leading-6 text-gray-900" id="modal-title">
                    {{_('Успешная регистрация')}}
                </h3>
                <p class="text-sm text-gray-500">
                    {{_('Если у вас есть вопросы, позвоните по номеру +996 312 915 022')}}
                </p>
            </div>
        </div>
        {% elif success == False %}
        <div
            class="fixed bottom-5 right-1/2 mx-4 flex w-[calc(100%-32px)] max-w-3xl translate-x-[calc(50%+16px)] items-center gap-3 rounded-lg border bg-white p-5 shadow-xl"
        >
            <div class="flex size-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="h-6 w-6 text-red-500"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"
                    />
                </svg>
            </div>
            <div>
                <h3 class="text-base font-semibold leading-6 text-gray-900" id="modal-title">
                    {{_('Произошла ошибка')}}
                </h3>
                <p class="text-sm text-gray-500">
                    {{_('Если у вас есть вопросы, позвоните по номеру +996 312 915 022')}}
                </p>
            </div>
        </div>
        {% endif %}
    </section>
    <section id="modal" class="transition-opacity ease-in-out">
        {% if success == True %}
        <div class="fixed inset-0 h-full w-full bg-black/50"></div>
        <div class="fixed right-0 top-1/2 w-full -translate-y-1/2">
            <div
                class="relative mx-4 max-w-lg overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:mx-auto"
            >
                <div class="bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4">
                    <div class="sm:flex sm:items-start">
                        <div
                            class="mx-auto flex size-12 flex-shrink-0 items-center justify-center rounded-full bg-green-100 sm:mx-0 sm:h-10 sm:w-10"
                        >
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                fill="none"
                                viewBox="0 0 24 24"
                                stroke-width="1.5"
                                stroke="currentColor"
                                class="h-6 w-6 text-green-500"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
                                />
                            </svg>
                        </div>
                        <div class="mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left">
                            <h3 class="text-base font-semibold leading-6 text-gray-900" id="modal-title">
                                {{_('Успешная регистрация')}}
                            </h3>
                            <div class="mt-2">
                                <p class="text-sm text-gray-500">
                                    {{_('Мы получили вашу заявку на пробный тест. Приходите в указанное время и день.
                                    Если у вас есть вопросы позвоните по номеру +996 312 915 022')}}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6">
                    <button
                        type="button"
                        onclick="closeModal()"
                        class="inline-flex w-full justify-center rounded-md border px-3 py-2 text-sm font-semibold shadow-sm sm:ml-3 sm:w-auto"
                    >
                        {{_('Закрыть')}}
                    </button>
                </div>
            </div>
        </div>
        {% elif success == False %}
        <div class="fixed inset-0 h-full w-full bg-black/50"></div>
        <div class="fixed right-0 top-1/2 w-full -translate-y-1/2">
            <div
                class="relative mx-4 max-w-lg overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:mx-auto"
            >
                <div class="bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4">
                    <div class="sm:flex sm:items-start">
                        <div
                            class="mx-auto flex size-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"
                        >
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                fill="none"
                                viewBox="0 0 24 24"
                                stroke-width="1.5"
                                stroke="currentColor"
                                class="h-6 w-6 text-red-500"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"
                                />
                            </svg>
                        </div>
                        <div class="mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left">
                            <h3 class="text-base font-semibold leading-6 text-gray-900" id="modal-title">
                                {{_('Ошибка при регистрации')}}
                            </h3>
                            <div class="mt-2">
                                <p class="text-sm text-gray-500">
                                    {{_('Произошла ошибка при регистрации на пробный тест. Попробуйте еще раз.')}}
                                    <br /><br />
                                    {{_('Если Вы не можете зарегистрироваться, позвоните по номеру +996 312 915 022')}}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6">
                    <button
                        type="button"
                        onclick="closeModal()"
                        class="inline-flex w-full justify-center rounded-md border px-3 py-2 text-sm font-semibold shadow-sm sm:ml-3 sm:w-auto"
                    >
                        {{_('Закрыть')}}
                    </button>
                </div>
            </div>
        </div>
        {% endif %}
    </section>
    <section class="mt-5 grid max-w-7xl gap-5 md:mt-16 md:grid-cols-2">
        <div class="flex flex-col gap-3 p-5 pt-0">
            <h1 class="text-3xl font-bold">{{_('Пробный TOEFL PBT')}}</h1>
            <div class="mt-1 flex gap-5">
                <div class="flex gap-2">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="h-6 w-6"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"
                        />
                    </svg>
                    <span>{{_('500 Сом')}}</span>
                </div>
                <div class="flex gap-2">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="h-6 w-6"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
                        />
                    </svg>
                    <span>2:15 {{_('Часа')}}</span>
                </div>
                <div class="flex gap-2">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="h-6 w-6"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"
                        />
                    </svg>
                    <span>{{_('Пн/Чт 14:10')}}</span>
                </div>
            </div>
            <div class="text-gray-800">
                <p>
                    {{_('На пробный тест необходимо регистрироваться заранее через наш сайт с указанием желаемой даты
                    сдачи пробного тестирования. После регистрации через наш сайт Вы будете автоматически внесены в
                    список, т.е. ответного письма на почту или уведомления нет.')}}
                </p>
                <br />
                <p>
                    {{_('P.S. Если лимит превышает максимально-допустимое количество участников, с Вами свяжутся и
                    предложат другую дату сдачи тестирования.')}}
                </p>
                <br />
                <p class="font-bold">{{_('Для прохождения теста с собой необходимо иметь:')}}</p>
                <ul>
                    <li>{{_('- Паспорт (для несовершеннолетних - свидетельство о рождении)')}}</li>
                    <li>{{_('- Ручку')}}</li>
                    <li>{{_('- 500 сомов без сдачи')}}</li>
                </ul>
                <br />
                <p>
                    {{_('После регистрации в день сдачи тестирования необходимо прийти к нам в офис - 209 кабинет, чтобы
                    узнать место проведения тестирования, так как аудитории меняются.')}}
                </p>
                <p>
                    {{_('Пробный тест состоит из 3 частей (аудирование, грамматический тест, чтение) и длится ~ 2 часа.
                    Максимальный балл - 677. Минимальный - 200.')}}
                </p>
            </div>
        </div>
        <form
            action="/toefl/register"
            method="POST"
            class="mx-4 grid h-fit grid-cols-4 gap-x-2 gap-y-5 rounded-3xl bg-[#08559a] p-5 py-8"
        >
            <div class="col-span-2 flex flex-col gap-1">
                <label class="text-white" for="first_name">{{_('Имя')}}</label>
                <input
                    class="rounded-lg"
                    type="text"
                    name="first_name"
                    id="first_name"
                    autocomplete="name"
                    placeholder="Асан"
                    required
                />
            </div>

            <div class="col-span-2 flex flex-col gap-1">
                <label class="text-white" for="last_name">{{_('Фамилия')}}</label>
                <input
                    class="rounded-lg"
                    type="text"
                    name="last_name"
                    id="last_name"
                    autocomplete="family-name"
                    placeholder="Асанов"
                    required
                />
            </div>

            <div class="col-span-4 flex flex-col gap-1">
                <label class="text-white" for="email">{{_('Электронная почта')}}</label>
                <input
                    class="rounded-lg"
                    type="email"
                    name="email"
                    id="email"
                    autocomplete="email"
                    placeholder="asan.asanov@email.com"
                />
            </div>

            <div class="col-span-4 flex flex-col gap-1">
                <label class="text-white" for="">{{_('Номер телефона')}}</label>
                <input
                    class="rounded-lg"
                    type="tel"
                    name="phone"
                    id="phone"
                    autocomplete="tel"
                    placeholder="+996 999 99 99 99"
                    required
                />
            </div>

            <div class="col-span-4 flex flex-col gap-1">
                <label class="text-white" for="day">{{_('День')}}</label>
                <select class="rounded-lg" name="day" id="day" required>
                    <option value="" disabled selected>{{_('Выберите день')}}</option>
                    {% for date in available_dates %}
                    <option value="{{ date.value }}">{{ date.date }}</option>
                    {% endfor %}
                </select>
            </div>
            <button
                class="col-span-4 mt-6 w-full rounded-lg bg-sky-500 py-2 text-white transition-colors ease-in-out hover:bg-sky-400"
                type="submit"
            >
                {{_('Зарегистрироваться')}}
            </button>
        </form>
    </section>
</main>
<script>
    function closeModal() {
        document.getElementById("modal").classList.add("opacity-0", "pointer-events-none");
        document.getElementById("toast").classList.remove("opacity-0", "pointer-events-none");
    }
</script>
{% endblock %}
